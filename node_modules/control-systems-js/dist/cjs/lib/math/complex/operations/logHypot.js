"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.logHypot = void 0;
/**
 * Calculates log(sqrt(a^2+b^2)) in a way to avoid overflows
 * @param value
 * @returns
 */
const logHypot = (value) => {
    const { re, im } = value;
    const reAbs = Math.abs(re);
    const imAbs = Math.abs(im);
    if (re === 0) {
        return Math.log(imAbs);
    }
    if (im === 0) {
        return Math.log(reAbs);
    }
    if (reAbs < 3000 && imAbs < 3000) {
        return Math.log(re * re + im * im) * 0.5;
    }
    const halfRe = re / 2;
    const halfIm = im / 2;
    return 0.5 * Math.log(halfRe * halfRe + halfIm * halfIm) + Math.LN2;
};
exports.logHypot = logHypot;
//# sourceMappingURL=../../../../../../src/lib/math/complex/operations/logHypot.js.map