import { complex } from '../math/complex';
export class Impulse {
    constructor(calculateTransferFunction, inverseLaplace, convolution) {
        this.calculateTransferFunction = calculateTransferFunction;
        this.inverseLaplace = inverseLaplace;
        this.convolution = convolution;
    }
    calculatePoints(tf, timeRange) {
        // impulse = delta(t)
        const impulseExpression = {
            numerator: [complex(1, 0)],
            denominator: [complex(1, 0)],
        };
        // impulse response = tf * delta(t)
        const responseFunction = this.convolution.execute(tf, impulseExpression);
        const points = timeRange.map((time) => {
            const timeResponse = this.inverseLaplace.execute((s) => this.calculateTransferFunction.calculateValue(responseFunction, s), time);
            return { x: time, y: timeResponse };
        });
        return points;
    }
}
//# sourceMappingURL=../../../../src/lib/impulse/impulse.js.map